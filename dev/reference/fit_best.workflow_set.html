<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="fit_best() takes results from tuning many models and fits the workflow
configuration associated with the best performance to the training set."><title>Fit a model to the numerically optimal configuration — fit_best.workflow_set • workflowsets</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.8/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.8/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fit a model to the numerically optimal configuration — fit_best.workflow_set"><meta property="og:description" content="fit_best() takes results from tuning many models and fits the workflow
configuration associated with the best performance to the training set."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="workflowsets.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">workflowsets</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.1.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/tuning-and-comparing-models.html">Tuning and comparing models</a>
    <a class="dropdown-item" href="../articles/evaluating-different-predictor-sets.html">Evaluating different predictor sets</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidymodels/workflowsets/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Fit a model to the numerically optimal configuration</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/workflowsets/blob/HEAD/R/fit_best.R" class="external-link"><code>R/fit_best.R</code></a></small>
      <div class="d-none name"><code>fit_best.workflow_set.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code><a href="https://tune.tidymodels.org/reference/fit_best.html" class="external-link">fit_best()</a></code> takes results from tuning many models and fits the workflow
configuration associated with the best performance to the training set.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for workflow_set</span></span>
<span><span class="fu"><a href="https://tune.tidymodels.org/reference/fit_best.html" class="external-link">fit_best</a></span><span class="op">(</span><span class="va">x</span>, metric <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A <code><a href="workflow_set.html">workflow_set</a></code> object that has been evaluated
with <code><a href="workflow_map.html">workflow_map()</a></code>. Note that the workflow set must have been fitted with
the <a href="option_add.html">control option</a> <code>save_workflow = TRUE</code>.</p></dd>


<dt>metric</dt>
<dd><p>A character string giving the metric to rank results by.</p></dd>


<dt>...</dt>
<dd><p>Additional options to pass to
<a href="https://tune.tidymodels.org/reference/fit_best.html" class="external-link">tune::fit_best</a>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is a shortcut for the steps needed to fit the
numerically optimal configuration in a fitted workflow set.
The function ranks results, extracts the tuning result pertaining
to the best result, and then again calls <code><a href="https://tune.tidymodels.org/reference/fit_best.html" class="external-link">fit_best()</a></code> (itself a
wrapper) on the tuning result containing the best result.</p>
<p>In pseudocode:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>rankings <span class="ot">&lt;-</span> <span class="fu">rank_results</span>(wf_set, metric, <span class="at">select_best =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>tune_res <span class="ot">&lt;-</span> <span class="fu">extract_workflow_set_result</span>(wf_set, rankings<span class="sc">$</span>wflow_id[<span class="dv">1</span>])</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fit_best</span>(tune_res, metric)</span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The package supplies two pre-generated workflow sets, <code>two_class_set</code>
and <code>chi_features_set</code>, and associated sets of model fits
<code>two_class_res</code> and <code>chi_features_res</code>.</p>
<p>The <code>two_class_*</code> objects are based on a binary classification problem
using the <code>two_class_dat</code> data from the modeldata package. The six
models utilize either a bare formula or a basic recipe utilizing
<code><a href="https://recipes.tidymodels.org/reference/step_YeoJohnson.html" class="external-link">recipes::step_YeoJohnson()</a></code> as a preprocessor, and a decision tree,
logistic regression, or MARS model specification. See <code><a href="two_class_set.html">?two_class_set</a></code>
for source code.</p>
<p>The <code>chi_features_*</code> objects are based on a regression problem using the
<code>Chicago</code> data from the modeldata package. Each of the three models
utilize a linear regression model specification, with three different
recipes of varying complexity. The objects are meant to approximate the
sequence of models built in Section 1.3 of Kuhn and Johnson (2019). See
<code><a href="chi_features_set.html">?chi_features_set</a></code> for source code.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tune.tidymodels.org/" class="external-link">tune</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://modeldata.tidymodels.org" class="external-link">modeldata</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rsample.tidymodels.org" class="external-link">rsample</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Chicago</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Chicago</span> <span class="op">&lt;-</span> <span class="va">Chicago</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">1195</span>,<span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">time_val_split</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rsample.tidymodels.org/reference/slide-resampling.html" class="external-link">sliding_period</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="va">Chicago</span>,</span></span>
<span class="r-in"><span>      <span class="va">date</span>,</span></span>
<span class="r-in"><span>      <span class="st">"month"</span>,</span></span>
<span class="r-in"><span>      lookback <span class="op">=</span> <span class="fl">38</span>,</span></span>
<span class="r-in"><span>      assess_stop <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>   <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">chi_features_set</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A workflow set/tibble: 3 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wflow_id         info             option    result    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> date_lm          <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;opts[0]&gt;</span> <span style="color: #949494;">&lt;list [0]&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> plus_holidays_lm <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;opts[0]&gt;</span> <span style="color: #949494;">&lt;list [0]&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> plus_pca_lm      <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;opts[0]&gt;</span> <span style="color: #949494;">&lt;list [0]&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">chi_features_res_new</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>   <span class="va">chi_features_set</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="co"># note: must set `save_workflow = TRUE` to use `fit_best()`</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="option_add.html">option_add</a></span><span class="op">(</span>control <span class="op">=</span> <span class="fu"><a href="https://tune.tidymodels.org/reference/control_grid.html" class="external-link">control_grid</a></span><span class="op">(</span>save_workflow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="co"># evaluate with resamples</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="workflow_map.html">workflow_map</a></span><span class="op">(</span>resamples <span class="op">=</span> <span class="va">time_val_split</span>, grid <span class="op">=</span> <span class="fl">21</span>, seed <span class="op">=</span> <span class="fl">1</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span>	<span style="color: #000000;">No tuning parameters. `fit_resamples()` will be attempted</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">1 of 3 resampling: date_lm</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> → <span style="color: #BBBB00; font-weight: bold;">A</span> | <span style="color: #BBBB00;">warning</span>: prediction from rank-deficient fit; consider predict(., rankdeficient="NA")</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There were issues with some computations   <span style="color: #BBBB00; font-weight: bold;">A</span>: x1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There were issues with some computations   <span style="color: #BBBB00; font-weight: bold;">A</span>: x1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #000000;">1 of 3 resampling: date_lm (257ms)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span>	<span style="color: #000000;">No tuning parameters. `fit_resamples()` will be attempted</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">2 of 3 resampling: plus_holidays_lm</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> → <span style="color: #BBBB00; font-weight: bold;">A</span> | <span style="color: #BBBB00;">warning</span>: prediction from rank-deficient fit; consider predict(., rankdeficient="NA")</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There were issues with some computations   <span style="color: #BBBB00; font-weight: bold;">A</span>: x1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There were issues with some computations   <span style="color: #BBBB00; font-weight: bold;">A</span>: x1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #000000;">2 of 3 resampling: plus_holidays_lm (222ms)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">3 of 3 tuning:     plus_pca_lm</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> → <span style="color: #BBBB00; font-weight: bold;">A</span> | <span style="color: #BBBB00;">warning</span>: prediction from rank-deficient fit; consider predict(., rankdeficient="NA")</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> → <span style="color: #BB0000; font-weight: bold;">B</span> | <span style="color: #BB0000;">error</span>:   Cannot find current progress bar for `&lt;environment: 0x55ea34f67158&gt;`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> <span style="color: #000000;">3 of 3 tuning:     plus_pca_lm (1s)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">chi_features_res_new</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A workflow set/tibble: 3 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wflow_id         info             option    result   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> date_lm          <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;opts[3]&gt;</span> <span style="color: #949494;">&lt;rsmp[+]&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> plus_holidays_lm <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;opts[3]&gt;</span> <span style="color: #949494;">&lt;rsmp[+]&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> plus_pca_lm      <span style="color: #949494;">&lt;tibble [1 × 4]&gt;</span> <span style="color: #949494;">&lt;opts[3]&gt;</span> <span style="color: #949494;">&lt;tune[+]&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># sort models by performance metrics</span></span></span>
<span class="r-in"><span><span class="fu"><a href="rank_results.html">rank_results</a></span><span class="op">(</span><span class="va">chi_features_res_new</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wflow_id    .config .metric  mean std_err     n preprocessor model  rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> plus_pca_lm Prepro… rmse    0.586      <span style="color: #BB0000;">NA</span>     1 recipe       line…     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> plus_pca_lm Prepro… rsq     0.989      <span style="color: #BB0000;">NA</span>     1 recipe       line…     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> plus_holid… Prepro… rmse    0.646      <span style="color: #BB0000;">NA</span>     1 recipe       line…     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> plus_holid… Prepro… rsq     0.986      <span style="color: #BB0000;">NA</span>     1 recipe       line…     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> date_lm     Prepro… rmse    0.733      <span style="color: #BB0000;">NA</span>     1 recipe       line…     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> date_lm     Prepro… rsq     0.982      <span style="color: #BB0000;">NA</span>     1 recipe       line…     3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># fit the numerically optimal configuration to the training set</span></span></span>
<span class="r-in"><span><span class="va">chi_features_wf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tune.tidymodels.org/reference/fit_best.html" class="external-link">fit_best</a></span><span class="op">(</span><span class="va">chi_features_res_new</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">chi_features_wf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ══ Workflow [trained] ════════════════════════════════════════════════════</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Preprocessor:</span> Recipe</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Model:</span> linear_reg()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ── Preprocessor ──────────────────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Recipe Steps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_date()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_holiday()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_dummy()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_zv()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_pca()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ── Model ─────────────────────────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = ..y ~ ., data = data)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       (Intercept)           temp_min               temp  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5.067e+02         -4.811e-04          6.885e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          temp_max        temp_change                dew  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         9.511e-04                 NA         -5.110e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          humidity           pressure    pressure_change  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2.516e-02          6.921e-01          2.230e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              wind           wind_max               gust  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        -1.642e-02          1.409e-04          3.146e-03  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          gust_max             percip         percip_max  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         7.870e-03         -7.111e+00          2.199e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      weather_rain       weather_snow      weather_cloud  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        -6.168e-01         -2.689e-01         -9.951e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     weather_storm    Blackhawks_Away    Blackhawks_Home  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2.603e-01         -1.245e-01         -1.114e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Bulls_Away         Bulls_Home         Bears_Away  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         9.407e-02          1.833e-01          3.306e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Bears_Home      WhiteSox_Away      WhiteSox_Home  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         3.531e-01         -5.198e-01                 NA  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Cubs_Away          Cubs_Home          date_year  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                NA                 NA         -2.638e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     date_LaborDay   date_NewYearsDay  date_ChristmasDay  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5.166e-01         -1.275e+01         -1.308e+01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      date_dow_Mon       date_dow_Tue       date_dow_Wed  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1.232e+01          1.345e+01          1.348e+01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      date_dow_Thu       date_dow_Fri       date_dow_Sat  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1.325e+01          1.281e+01          9.855e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_month_Feb     date_month_Mar     date_month_Apr  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4.218e-02          3.897e-01          5.472e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_month_May     date_month_Jun     date_month_Jul  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2.842e-01          9.032e-01          3.897e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_month_Aug     date_month_Sep     date_month_Oct  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4.855e-01          1.588e-01          6.197e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_month_Nov     date_month_Dec                PC1  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        -4.350e-01         -8.359e-01          2.979e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               PC2                PC3  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1.225e-01         -1.722e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># to select optimal value based on a specific metric:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://tune.tidymodels.org/reference/fit_best.html" class="external-link">fit_best</a></span><span class="op">(</span><span class="va">chi_features_res_new</span>, metric <span class="op">=</span> <span class="st">"rmse"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ══ Workflow [trained] ════════════════════════════════════════════════════</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Preprocessor:</span> Recipe</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Model:</span> linear_reg()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ── Preprocessor ──────────────────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Recipe Steps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_date()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_holiday()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_dummy()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_zv()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • step_pca()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ── Model ─────────────────────────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = ..y ~ ., data = data)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       (Intercept)           temp_min               temp  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5.067e+02         -4.811e-04          6.885e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          temp_max        temp_change                dew  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         9.511e-04                 NA         -5.110e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          humidity           pressure    pressure_change  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2.516e-02          6.921e-01          2.230e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              wind           wind_max               gust  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        -1.642e-02          1.409e-04          3.146e-03  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          gust_max             percip         percip_max  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         7.870e-03         -7.111e+00          2.199e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      weather_rain       weather_snow      weather_cloud  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        -6.168e-01         -2.689e-01         -9.951e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     weather_storm    Blackhawks_Away    Blackhawks_Home  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2.603e-01         -1.245e-01         -1.114e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Bulls_Away         Bulls_Home         Bears_Away  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         9.407e-02          1.833e-01          3.306e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Bears_Home      WhiteSox_Away      WhiteSox_Home  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         3.531e-01         -5.198e-01                 NA  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Cubs_Away          Cubs_Home          date_year  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                NA                 NA         -2.638e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     date_LaborDay   date_NewYearsDay  date_ChristmasDay  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5.166e-01         -1.275e+01         -1.308e+01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      date_dow_Mon       date_dow_Tue       date_dow_Wed  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1.232e+01          1.345e+01          1.348e+01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      date_dow_Thu       date_dow_Fri       date_dow_Sat  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1.325e+01          1.281e+01          9.855e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_month_Feb     date_month_Mar     date_month_Apr  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4.218e-02          3.897e-01          5.472e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_month_May     date_month_Jun     date_month_Jul  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2.842e-01          9.032e-01          3.897e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_month_Aug     date_month_Sep     date_month_Oct  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4.855e-01          1.588e-01          6.197e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_month_Nov     date_month_Dec                PC1  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        -4.350e-01         -8.359e-01          2.979e-02  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               PC2                PC3  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1.225e-01         -1.722e-01  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, Simon Couch, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

